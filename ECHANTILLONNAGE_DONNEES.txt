================================================================================
    DOCUMENTATION - √âCHANTILLONNAGE DES DONN√âES
================================================================================

Date de cr√©ation : Janvier 2026
Objectif : Optimisation pour d√©ploiement Streamlit Cloud


================================================================================
1. DONN√âES M√âT√âOROLOGIQUES
================================================================================

AVANT (meteo.parquet) :
------------------------
üìè Taille fichier     : 9.94 MB
üìä Nombre de lignes   : 1,202,311 enregistrements
üìÖ P√©riode couverte   : 1956 ‚Üí 2023 (67 ans)
‚ö†Ô∏è  Probl√®me          : Trop volumineux pour GitHub et Streamlit Cloud


APR√àS (meteo_sample.parquet) :
-------------------------------
üìè Taille fichier     : 0.91 MB
üìä Nombre de lignes   : 51,423 enregistrements
üìÖ P√©riode couverte   : 2018 ‚Üí 2023 (6 ans r√©cents)
üìâ R√©duction          : 95.7% (de la taille originale)
‚úÖ R√©sultat           : Fichier l√©ger, d√©ploiement possible


CRIT√àRE DE FILTRAGE :
---------------------
Les donn√©es sont filtr√©es pour ne garder que les ann√©es >= 2018

Code utilis√© :
    df['year'] = pd.to_datetime(df['AAAAMMJJ'], format='%Y%m%d').dt.year
    df_meteo_sample = df[df['year'] >= 2018]


================================================================================
2. DONN√âES INCENDIES
================================================================================

AVANT (incendies.parquet) :
----------------------------
üìè Taille fichier     : 3.23 MB
üìä Nombre de lignes   : 118,605 enregistrements
üìÖ P√©riode couverte   : 1973 ‚Üí 2022 (49 ans)
‚ö†Ô∏è  Probl√®me          : Limite acceptable mais r√©duction possible


APR√àS (incendies_sample.parquet) :
-----------------------------------
üìè Taille fichier     : 1.95 MB
üìä Nombre de lignes   : 59,302 enregistrements
üìÖ P√©riode couverte   : 2010 ‚Üí 2022 (13 ans r√©cents)
üìâ R√©duction          : 50% (de la taille originale)
‚úÖ R√©sultat           : Meilleure performance de chargement


CRIT√àRE DE FILTRAGE :
---------------------
Les donn√©es sont filtr√©es pour ne garder que les ann√©es >= 2010

Code utilis√© :
    df_incendies_sample = df[df['An'] >= 2010]


================================================================================
3. IMPACT SUR LES ANALYSES
================================================================================

‚úÖ CE QUI RESTE DISPONIBLE :
-----------------------------
‚Ä¢ Toutes les tendances climatiques r√©centes
‚Ä¢ Toutes les stations m√©t√©orologiques actives
‚Ä¢ Tous les d√©partements (13 Bouches-du-Rh√¥ne, 05 Hautes-Alpes, etc.)
‚Ä¢ Toutes les variables mesur√©es :
  - Temp√©ratures (min, max, moyenne)
  - Pr√©cipitations
  - Vent (vitesse, direction)
  - Autres param√®tres m√©t√©o
‚Ä¢ Analyses saisonni√®res compl√®tes (√©t√©, hiver, etc.)
‚Ä¢ Comparaisons g√©ographiques entre stations
‚Ä¢ √âv√©nements extr√™mes r√©cents


‚ö†Ô∏è CE QUI EST PERDU :
----------------------
‚Ä¢ Donn√©es historiques anciennes :
  - Avant 2018 pour les donn√©es m√©t√©o
  - Avant 2010 pour les donn√©es incendies
‚Ä¢ Tendances climatiques √† tr√®s long terme (50+ ans)
‚Ä¢ √âv√©nements extr√™mes historiques :
  - Canicule de 1976
  - Temp√™te de 1999
  - Autres √©v√©nements avant 2010-2018
‚Ä¢ Analyses de l'√©volution climatique sur plusieurs d√©cennies


================================================================================
4. JUSTIFICATION DE L'√âCHANTILLONNAGE
================================================================================

üéØ OBJECTIF PRINCIPAL :
-----------------------
Permettre le d√©ploiement de l'application sur Streamlit Cloud

üö´ CONTRAINTES TECHNIQUES :
---------------------------
‚Ä¢ Limite GitHub        : 100 MB total pour le d√©p√¥t
‚Ä¢ Recommandation       : < 10 MB par fichier individuel
‚Ä¢ Streamlit Cloud      : Ne peut acc√©der qu'aux fichiers versionn√©s sur GitHub
‚Ä¢ Performance Web      : Temps de chargement r√©duits pour meilleure UX


üî¨ LOGIQUE DE S√âLECTION :
-------------------------
1. DONN√âES R√âCENTES = PLUS PERTINENTES
   Les 6 derni√®res ann√©es (2018-2023) capturent :
   - Les effets actuels du changement climatique
   - Les tendances m√©t√©o r√©centes
   - Les √©v√©nements extr√™mes modernes

2. P√âRIODE SUFFISANTE POUR ANALYSES
   - 6 ans de m√©t√©o = Assez pour tendances saisonni√®res
   - 13 ans d'incendies = Historique statistiquement significatif

3. COMPROMIS OPTIMAL
   - Taille fichier : Acceptable pour GitHub et Streamlit Cloud
   - Qualit√© analyses : Maintenue pour usages principaux
   - Performance : Chargement 10x plus rapide


================================================================================
5. FICHIERS ET STOCKAGE
================================================================================

FICHIERS SUR GITHUB (versionn√©s) :
-----------------------------------
‚úÖ meteo_sample.parquet        (0.91 MB) ‚Üí Utilis√© par l'application d√©ploy√©e
‚úÖ incendies_sample.parquet    (1.95 MB) ‚Üí Utilis√© par l'application d√©ploy√©e
‚úÖ Shapefiles d√©partements     (~3 MB)   ‚Üí Donn√©es g√©ographiques
‚úÖ Fichiers de code Python     (~500 KB)


FICHIERS EN LOCAL (non versionn√©s) :
-------------------------------------
üíæ meteo.parquet               (9.94 MB) ‚Üí Donn√©es compl√®tes 1956-2023
üíæ incendies.parquet           (3.23 MB) ‚Üí Donn√©es compl√®tes 1973-2022
üíæ *.xlsx (fichiers Excel)     (30+ MB)  ‚Üí Sources originales

Ces fichiers sont exclus via .gitignore :
    data/raw/meteo.parquet
    data/raw/incendies.parquet
    data/raw/*.xlsx
    data/raw/meteo.csv
    data/raw/incendies.csv


AVANTAGE :
----------
Vous conservez TOUTES les donn√©es compl√®tes en local pour analyses approfondies,
tout en d√©ployant une version optimis√©e sur le cloud !


================================================================================
6. UTILISATION DANS LE CODE
================================================================================

FICHIERS MODIFI√âS :
-------------------
‚Ä¢ utils/data_loader.py
‚Ä¢ pages/1__Carte_Interactive.py
‚Ä¢ pages/3__Temp√©ratures.py
‚Ä¢ pages/4__Pr√©cipitations.py
‚Ä¢ pages/5__Analyse_du_Vent.py
‚Ä¢ pages/6__Comparaisons_G√©ographiques.py
‚Ä¢ pages/7__√âv√©nements_Extr√™mes.py
‚Ä¢ pages/Analyse_Incendies.py


CHANGEMENTS APPLIQU√âS :
-----------------------
Avant :
    df = load_data("data/raw/meteo.parquet")
    df = pd.read_parquet("data/raw/incendies.parquet")

Apr√®s :
    df = load_data("data/raw/meteo_sample.parquet")
    df = pd.read_parquet("data/raw/incendies_sample.parquet")


================================================================================
7. SCRIPT DE G√âN√âRATION
================================================================================

FICHIER : create_sample_data.py

COMMANDE D'EX√âCUTION :
    python create_sample_data.py

FONCTION :
    G√©n√®re automatiquement les fichiers *_sample.parquet √† partir des fichiers
    complets. Peut √™tre r√©ex√©cut√© si vous mettez √† jour les donn√©es sources.


================================================================================
8. D√âPLOIEMENT STREAMLIT CLOUD
================================================================================

√âTAPES POUR D√âPLOYER :
----------------------
1. V√©rifier que les fichiers *_sample.parquet existent
2. V√©rifier que .gitignore exclut les gros fichiers
3. Commit et push vers GitHub :
   
   git add .
   git commit -m "Optimisation donn√©es pour d√©ploiement Cloud"
   git push

4. Sur Streamlit Cloud :
   - Connecter le d√©p√¥t GitHub
   - S√©lectionner Home.py comme fichier principal
   - D√©ployer !


FICHIERS REQUIS SUR GITHUB :
-----------------------------
‚úÖ Home.py
‚úÖ requirements.txt (avec pyarrow>=12.0.0)
‚úÖ pages/*.py
‚úÖ utils/*.py
‚úÖ components/*.py
‚úÖ data/raw/meteo_sample.parquet
‚úÖ data/raw/incendies_sample.parquet
‚úÖ data/raw/dep_05/*.shp (shapefiles)
‚úÖ data/raw/dep_13/*.shp (shapefiles)


================================================================================
FIN DE LA DOCUMENTATION
================================================================================
